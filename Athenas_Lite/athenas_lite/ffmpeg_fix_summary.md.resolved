# FFmpeg Path Resolution - Resumen

## üìÅ Estructura Esperada del Proyecto

```
Athenas_Lite/                    ‚Üê Ra√≠z del proyecto
‚îú‚îÄ‚îÄ ffmpeg.exe                   ‚Üê Ejecutable FFmpeg (Windows)
‚îú‚îÄ‚îÄ ffprobe.exe                  ‚Üê Ejecutable FFprobe (Windows)
‚îú‚îÄ‚îÄ rubricas/                    ‚Üê Carpeta de r√∫bricas JSON
‚îÇ   ‚îú‚îÄ‚îÄ Cumplimiento.json
‚îÇ   ‚îú‚îÄ‚îÄ Servicio al cliente.json
‚îÇ   ‚îî‚îÄ‚îÄ ... (13 archivos JSON)
‚îú‚îÄ‚îÄ athenas_lite/                ‚Üê Paquete Python refactorizado
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îú‚îÄ‚îÄ Athenas.ico
‚îú‚îÄ‚îÄ athenas2.png
‚îî‚îÄ‚îÄ maxilogo.png
```

## ‚úÖ Cambios Realizados

### 1. Funci√≥n [_bin_path()](file:///d:/zyzen%203/Documents/Ecosistema-Maxi/Athenas_Lite/athenas_lite/services/system_tools.py#11-36) Mejorada

**Ubicaci√≥n**: [athenas_lite/services/system_tools.py](file:///d:/zyzen%203/Documents/Ecosistema-Maxi/Athenas_Lite/athenas_lite/services/system_tools.py)

**Comportamiento anterior**:
- Solo buscaba en el PATH del sistema
- No buscaba en la ra√≠z del proyecto

**Comportamiento nuevo**:
1. **PyInstaller** (ejecutable empaquetado): Busca en el directorio del .exe
2. **Ra√≠z del proyecto**: Busca `ffmpeg.exe` y `ffprobe.exe` junto a la carpeta `athenas_lite/`
3. **PATH del sistema**: Fallback si no se encuentra en los anteriores

### 2. Rutas Relativas

**Rubricas**: 
- Constante: `LOCAL_RUBRICS_DIR = "rubricas"`
- Ubicaci√≥n: `Athenas_Lite/rubricas/`
- ‚úÖ Ya funcionaba correctamente

**FFmpeg/FFprobe**:
- ‚úÖ Ahora busca en: `Athenas_Lite/ffmpeg.exe` y `Athenas_Lite/ffprobe.exe`
- ‚úÖ Tambi√©n funciona si est√°n en el PATH del sistema

## üéØ Resultado

**Ambos casos est√°n contemplados**:
- ‚úÖ Carpeta `rubricas/` en la ra√≠z del proyecto
- ‚úÖ Ejecutables `ffmpeg.exe` y `ffprobe.exe` en la ra√≠z del proyecto
- ‚úÖ Fallback al PATH del sistema si no se encuentran localmente

## üìù Documentaci√≥n Actualizada

El [README.md](file:///d:/zyzen%203/Documents/Ecosistema-Maxi/Athenas_Lite/athenas_lite/README.md) ahora especifica claramente:

> **FFmpeg**: Se requiere `ffmpeg.exe` y `ffprobe.exe` en la ra√≠z del proyecto (junto a la carpeta `athenas_lite/`) o en el PATH del sistema para procesar audios que no sean WAV/MP3 nativos.
